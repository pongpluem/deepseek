"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[6428],{98608:(e,n,a)=>{a.d(n,{F:()=>r});var t=a(96540),i=a(52290),l=a(36557),o=a(46989),r=function(e){var n=e.margin,a=e.padding,r=void 0===a?"2px 6px":a;return t.createElement(i.a,{background:o.$N,borderRadius:"4px",padding:r,margin:n},t.createElement(l.kZ,{scale:"XS",color:"WHITE"},"New"))}},77930:(e,n,a)=>{a.d(n,{T:()=>r});var t=a(45458),i=a(24959),l=a(52633),o=a(9779),r={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FeatureStoryMenuItem_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useFeatureStoryInPub_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FeatureStoryModal_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}].concat((0,t.A)(i.YK.definitions),(0,t.A)(l.Q4.definitions),(0,t.A)(o.c.definitions))}},6671:(e,n,a)=>{a.d(n,{k:()=>Y});var t,i=a(80296),l=a(96540),o=a(14782),r=a(52290),d=a(86527),c=a(72130),u=a(49287),s=a(60603),m=a(39181),k=a(94170),p=a(51260),v=a(17756),f=a(52633),b=a(36557),S=function(){return l.createElement(r.a,{marginTop:"24px"},l.createElement(b.kZ,{scale:"M",color:"DARKER"},"Oops, something went wrong. Please try again later."))},y=a(46879),g=a(49041),E=a(28899),N=a(39410),F=a(21277),A=function(e){var n,a,t=e.post,i=t.collection,o=(0,p.au)(),c=o("ShowCollectionHome",{collectionSlug:(null==i?void 0:i.slug)||""}),u=o("ShowUser",{username:(null===(n=t.creator)||void 0===n?void 0:n.username)||""});return i?l.createElement(r.a,{display:"flex",flexDirection:"column",border:"neutral.primary",borderRadius:"4px",padding:"16px",gap:"12px",marginTop:"27px"},l.createElement(r.a,{display:"flex"},l.createElement(r.a,{marginRight:"8px"},l.createElement(E.u,{size:20,collection:i,link:!0,showHoverState:!0})),l.createElement(r.a,{paddingRight:"4px"},l.createElement(b.kZ,{scale:"S",color:"LIGHTER"},"In")),l.createElement(d.N,{inline:!0,href:c,linkStyle:"SUBTLE",display:"flex",rules:{alignItems:"center"}},l.createElement(b.kZ,{scale:"S",color:"DARKER",clamp:1},i.name)),l.createElement(r.a,{padding:"0 4px"},l.createElement(b.kZ,{scale:"S",color:"LIGHTER"},"by")),l.createElement(d.N,{href:u,linkStyle:"SUBTLE",inline:!0,display:"flex",rules:{alignItems:"center"}},l.createElement(b.kZ,{scale:"S",color:"DARKER",clamp:1},null===(a=t.creator)||void 0===a?void 0:a.name),t.creator&&l.createElement(F.T,{author:t.creator,size:"S"}))),l.createElement(N.hE,{scale:"XS",clamp:3},t.title)):null},h=function(e){var n=e.viewAllLink,a=e.tokenBalance,t=e.post;return l.createElement(l.Fragment,null,l.createElement(A,{post:t}),l.createElement(r.a,{display:"flex",justifyContent:"space-between",marginTop:"27px"},l.createElement(r.a,{display:"flex"},l.createElement(b.kZ,{scale:"M"},l.createElement("span",{style:{fontWeight:700}},a.availableTokens)," featured stories available"),l.createElement(r.a,{marginLeft:"4px"},l.createElement(g.j,{tokenBalance:a}))),l.createElement(b.kZ,{scale:"M"},l.createElement(d.N,{href:n,linkStyle:"OBVIOUS",inline:!0},"View featured stories"))),l.createElement(r.a,{marginTop:"24px"},l.createElement(b.kZ,{scale:"M",color:"DARKER"},"Featuring this story will prioritize it to your publication's followers and send them a push notification. ",l.createElement(d.N,{href:y.dAw,inline:!0,linkStyle:"OBVIOUS",target:"_blank"},"Learn more"))))},T=function(){return l.createElement(r.a,null,l.createElement(r.a,{height:"52px",width:"100%",marginBottom:"24px",backgroundColor:"BASE_NORMAL"}),l.createElement(r.a,{display:"flex",justifyContent:"space-between",marginBottom:"24px"},l.createElement(r.a,{height:"20px",width:"40%",backgroundColor:"BASE_NORMAL"}),l.createElement(r.a,{height:"20px",width:"20%",backgroundColor:"BASE_NORMAL"})),l.createElement(r.a,{width:"100%",height:"16px",marginBottom:"8px",backgroundColor:"BASE_NORMAL"}),l.createElement(r.a,{width:"65%",height:"16px",backgroundColor:"BASE_NORMAL"}))},x=a(48592),R=function(e){var n=e.tokenBalance,a=n.nextRefillAt,t=n.tokenCapacity,i=n.refillInterval,o=(0,l.useMemo)((function(){if(a){var e=(0,x.O)(a);return l.createElement(l.Fragment,null,"1 hour"===e?"within":"in"," ",l.createElement("span",{style:{fontWeight:700}},e))}}),[a]);return a?l.createElement(r.a,null,l.createElement(b.kZ,{scale:"M",color:"DARKER"},"Sorry, you don’t have any featured stories available. Your next featured story will be available ",o,". Publications earn the ability to feature a story every ",(0,x.K)(i)," days and can accrue up to ",t," feature credits at a time. ",l.createElement(d.N,{href:y.dAw,inline:!0,linkStyle:"OBVIOUS",target:"_blank"},"Learn more"))):null},I=function(e){var n=e.viewAllLink,a=e.post,t=e.showFeaturedStoriesLink,i=void 0===t||t;return l.createElement(l.Fragment,null,l.createElement(A,{post:a}),l.createElement(r.a,{marginTop:"24px"},l.createElement(b.kZ,{scale:"M",color:"DARKER"},"Are you sure you want to stop featuring this story? The number of featured stories you have available will stay the same.",l.createElement("br",null),l.createElement("br",null),"If you want to feature this story again it will use another featured story credit. ",i&&l.createElement(d.N,{href:n,inline:!0,linkStyle:"OBVIOUS"},"View featured stories"))))},O=a(64467),P=a(45458),w=a(95420),_=a(67194),C=a(91830),B=a(24959);function D(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function L(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?D(Object(a),!0).forEach((function(n){(0,O.A)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):D(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}!function(e){e[e.ERROR=0]="ERROR",e[e.FEATURE_STORY=1]="FEATURE_STORY",e[e.LOADING=2]="LOADING",e[e.NO_FEATURES_AVAILABLE=3]="NO_FEATURES_AVAILABLE",e[e.STOP_FEATURING=4]="STOP_FEATURING"}(t||(t={}));var V=function(e){var n=e.modalToShow,a=e.tokenBalance;if(n===t.ERROR||"PublicationFeaturingTokenBalance"!==(null==a?void 0:a.__typename))return l.createElement(S,null);var i=a;switch(n){case t.LOADING:return l.createElement(T,null);case t.NO_FEATURES_AVAILABLE:return l.createElement(R,{tokenBalance:i});case t.STOP_FEATURING:return l.createElement(I,e);case t.FEATURE_STORY:return l.createElement(h,{viewAllLink:e.viewAllLink,tokenBalance:i,post:e.post});default:return null}},U=function(e){var n,a=e.hide,o=e.isVisible,d=e.post,s=e.isFeaturedInCurrentPublication,b=e.refetch,S=e.showFeaturedStoriesLink,y=void 0===S||S,g=(0,m.I)(f.fc,{variables:{input:{publicationId:(null===(n=d.collection)||void 0===n?void 0:n.id)||""}}}),E=g.data,N=g.loading,F=g.error,A=d.collection,h=function(e){var n=e.post,a=e.isFeaturedInCurrentPublication,t=e.refetch,o=e.showFeaturedStoriesLink,r=void 0===o||o,d=n.id,s=n.collection,m=(0,u.jI)(),k=(0,c.$L)(),v=(0,C.zF)(),f=(0,p.au)()("ShowCollectionManageFeaturedStories",{collectionSlug:(null==s?void 0:s.slug)||""}),b=(0,l.useCallback)((function(){v({toastStyle:"FEATURE_STORY",extraParams:{viewAllLink:r?f:void 0,isFeaturedInPublication:a,pubName:(null==s?void 0:s.name)||""}})}),[v,null==s?void 0:s.name,a]),S=(0,l.useCallback)((function(){v({toastStyle:"MESSAGE",message:"Oops, something went wrong. Please try again later."})}),[v]),y=(0,w.n)(B.g3,{variables:{postId:d,pubId:(null==s?void 0:s.id)||"",featured:!a},optimisticResponse:{setPostPublicationFeatured:{__typename:"MutationSuccess",success:!0}},update:function(e,n){var t,i;if("MutationSuccess"===(null===(t=n.data)||void 0===t?void 0:t.setPostPublicationFeatured.__typename)&&null!==(i=n.data)&&void 0!==i&&i.setPostPublicationFeatured.success){var l=(null==s?void 0:s.id)||"";e.modify({id:e.identify({__typename:"Post",id:d}),fields:{publicationsFeaturingPost:function(n,t){var i=t.readField;if(a)return n.filter((function(e){return(null==s?void 0:s.id)!==i("id",e)}));var o={__typename:"Publication",id:l},r=e.writeFragment({id:e.identify(o),fragment:B.eP,fragmentName:"useFeatureStoryInPub_publication",data:o});return n.find((function(e){return i("id",e)===l}))?n:[r].concat((0,P.A)(n))}}}),e.modify({id:e.identify((0,_.WU)("ROOT_QUERY")),fields:{publicationFeaturingTokenBalance:function(e,n){return n.storeFieldName.includes(l)&&!a?L(L({},e),{},{availableTokens:e.availableTokens-1}):e}}}),e.modify({id:e.identify({__typename:"Publication",id:l}),fields:{featuredPostsConnection:function(e,n){var t=n.DELETE;if(a)return t}}})}},onCompleted:function(e){"MutationSuccess"===(null==e?void 0:e.setPostPublicationFeatured.__typename)&&null!=e&&e.setPostPublicationFeatured.success?(k.event(a?"post.stoppedFeaturingInPublication.success":"post.featuredInPublication.success",{postId:d,collectionId:null==s?void 0:s.id,source:m}),b(),t&&t()):S()},onError:S});return{setPostPublicationFeatured:(0,i.A)(y,1)[0]}}({post:d,isFeaturedInCurrentPublication:s,refetch:b,showFeaturedStoriesLink:y}),T=h.setPostPublicationFeatured,x=(0,v.r)({replace:!0}),R=(0,p.om)()("ShowCollectionManageFeaturedStories",{collectionSlug:(null==A?void 0:A.slug)||""}),I=(0,l.useCallback)((function(){x(R)}),[x,A]),O=null==E?void 0:E.publicationFeaturingTokenBalance,D=(0,l.useCallback)((function(){if(N)return t.LOADING;if(F||"PublicationFeaturingTokenBalance"!==(null==O?void 0:O.__typename))return t.ERROR;if("PublicationFeaturingTokenBalance"===(null==O?void 0:O.__typename)){if(O.availableTokens>=0&&s)return t.STOP_FEATURING;if(0===O.availableTokens)return t.NO_FEATURES_AVAILABLE;if(O.availableTokens>0&&!s)return t.FEATURE_STORY}return t.LOADING}),[O,N,F,s])(),U=(0,l.useCallback)((function(){switch(D){case t.STOP_FEATURING:case t.FEATURE_STORY:T();break;case t.NO_FEATURES_AVAILABLE:case t.ERROR:break;case t.LOADING:return}a()}),[T,a,D]),M=(0,l.useCallback)((function(){if(D===t.NO_FEATURES_AVAILABLE)return I(),void a();a()}),[D,I,a]),G=(0,l.useCallback)((function(){switch(D){case t.LOADING:return l.createElement(r.a,{height:"32px",width:"80%",backgroundColor:"BASE_NORMAL"});case t.ERROR:return"Something went wrong";case t.NO_FEATURES_AVAILABLE:return"No featured stories available";case t.STOP_FEATURING:return"Stop featuring this story";case t.FEATURE_STORY:return"Feature this story"}}),[D]),K=(0,l.useCallback)((function(){switch(D){case t.LOADING:return"";case t.NO_FEATURES_AVAILABLE:return"View featured stories";case t.STOP_FEATURING:case t.FEATURE_STORY:case t.ERROR:return"Cancel"}}),[D]),j=(0,l.useCallback)((function(){switch(D){case t.LOADING:return;case t.NO_FEATURES_AVAILABLE:return"Got it";case t.STOP_FEATURING:return"Stop featuring";case t.FEATURE_STORY:return"Feature now";case t.ERROR:return"Try again"}}),[D]);return l.createElement(l.Fragment,null,o&&l.createElement(l.Fragment,null,l.createElement(u.Ne,{source:{dimension:"feature_story_modal"},extendSource:!0},l.createElement(k.a,{hide:a,title:G(),confirmButtonStyle:"BRAND",cancelButtonStyle:"SUBTLE",cancelText:K(),confirmDisabled:D===t.LOADING,confirmText:j(),onCancel:M,onConfirm:U},l.createElement(V,{modalToShow:D,tokenBalance:O,post:d,viewAllLink:R,showFeaturedStoriesLink:y})))))},M={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NewLabelOrTokenCountQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"first"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"opts"}},type:{kind:"NamedType",name:{kind:"Name",value:"FeaturedPostsOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publication"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"featuredPostsConnection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"first"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}},{kind:"Argument",name:{kind:"Name",value:"opts"},value:{kind:"Variable",name:{kind:"Name",value:"opts"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PublicationFeaturedPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"publicationFeaturingTokenBalance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"publicationId"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PublicationFeaturingTokenBalance"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableTokens"}},{kind:"Field",name:{kind:"Name",value:"tokenCapacity"}}]}}]}}]}}]},G=a(98608),K=new Date("2025-06-12"),j=function(e){var n,a,t,i,o=e.publicationId,d=(0,m.I)(M,{variables:{id:o,first:1,after:"",opts:{}}}),c=d.error,u=d.data,s=d.loading,k=new Date,p=(null==u||null===(n=u.publication)||void 0===n||null===(a=n.featuredPostsConnection)||void 0===a?void 0:a.edges)&&(null==u||null===(t=u.publication)||void 0===t||null===(i=t.featuredPostsConnection)||void 0===i?void 0:i.edges.length)>0,v=0,f=0;return"PublicationFeaturingTokenBalance"===(null==u?void 0:u.publicationFeaturingTokenBalance.__typename)&&(v=u.publicationFeaturingTokenBalance.availableTokens,f=u.publicationFeaturingTokenBalance.tokenCapacity),c?null:s?l.createElement(r.a,{backgroundColor:"BASE_LIGHT",width:"40px",height:"20px",borderRadius:"4px",padding:"2px 6px"}):!p&&k<K?l.createElement(G.F,null):l.createElement(r.a,{padding:"2px 6px"},l.createElement(b.kZ,{scale:"M",color:"LIGHTER"},v,"/",f))},Y=function(e){var n,a=e.post,t=e.hidePopover,m=e.isFeaturedInCurrentPublication,k=e.showCollectionName,p=e.showFeaturedStoriesLink,v=e.refetch,f=e.showNewLabelOrTokenCount,b=(0,s.e)(!1),S=(0,i.A)(b,3),y=S[0],g=S[1],E=S[2],N=(0,c.$L)(),F=(0,u.jI)(),A=(0,l.useCallback)((function(){E(),t()}),[E,t]),h=(0,l.useCallback)((function(){var e;a.id&&null!==(e=a.collection)&&void 0!==e&&e.id&&(N.event(m?"post.stopFeaturingInPublication.clicked":"post.featureInPublication.clicked",{postId:a.id,collectionId:a.collection.id,source:F}),g())}),[a.id,null===(n=a.collection)||void 0===n?void 0:n.id,m,F,g]),T=a.collection;return T?l.createElement(o.q3,null,l.createElement(r.a,{display:"flex",gap:"12px",alignItems:"flex-start"},l.createElement(d.N,{onClick:h,rules:{textAlign:"left"}},m?"Stop featuring this story".concat(k?" from ".concat(T.name):""):"Feature this story".concat(k?" from ".concat(T.name):"")),f&&l.createElement(j,{publicationId:T.id})),l.createElement(U,{isVisible:y,hide:A,post:a,isFeaturedInCurrentPublication:m,refetch:v,showFeaturedStoriesLink:p})):null}},52633:(e,n,a)=>{a.d(n,{Q4:()=>c,fc:()=>u});var t=a(45458),i=a(90511),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FeatureStoryContentModal_publicationFeaturingTokenBalance"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PublicationFeaturingTokenBalance"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"availableTokens"}},{kind:"FragmentSpread",name:{kind:"Name",value:"FeaturedStoryTooltip_publicationFeaturingTokenBalance"}}]}}].concat((0,t.A)(i.w.definitions))},o=a(24959),r=a(9779),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FeatureStoryModal_publicationFeaturingTokenBalance"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PublicationFeaturingTokenBalance"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FeatureStoryContentModal_publicationFeaturingTokenBalance"}},{kind:"FragmentSpread",name:{kind:"Name",value:"NoFeaturesAvailableStoryContentModal_publicationFeaturingTokenBalance"}}]}}].concat((0,t.A)(l.definitions),(0,t.A)([{kind:"FragmentDefinition",name:{kind:"Name",value:"NoFeaturesAvailableStoryContentModal_publicationFeaturingTokenBalance"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PublicationFeaturingTokenBalance"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nextRefillAt"}},{kind:"Field",name:{kind:"Name",value:"tokenCapacity"}},{kind:"Field",name:{kind:"Name",value:"refillInterval"}}]}}]))},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FeatureStoryModal_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"useFeatureStoryInPub_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostPreview_post"}}]}}].concat((0,t.A)(o.YK.definitions),(0,t.A)(r.c.definitions))},u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FeatureStoryTokenBalanceQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublicationFeaturingTokenBalanceInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publicationFeaturingTokenBalance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"FeatureStoryModal_publicationFeaturingTokenBalance"}}]}}]}}].concat((0,t.A)(d.definitions))}},90511:(e,n,a)=>{a.d(n,{w:()=>t});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FeaturedStoryTooltip_publicationFeaturingTokenBalance"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PublicationFeaturingTokenBalance"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"tokenCapacity"}},{kind:"Field",name:{kind:"Name",value:"refillInterval"}}]}}]}},49041:(e,n,a)=>{a.d(n,{j:()=>r});var t=a(96540),i=a(34899),l=a(36557),o=a(48592),r=function(e){var n=e.tokenBalance,a=n.tokenCapacity,r=n.refillInterval,d=(0,t.useCallback)((function(){return t.createElement(l.kZ,{scale:"XS",color:"LIGHTER"},"Publications earn the ability to feature a story every ",(0,o.K)(r)," ","days and can accrue up to ",a," feature credits at a time.")}),[r,a]);return t.createElement(i.I,{placement:"top",iconSize:"16px",tooltipContents:d})}},9779:(e,n,a)=>{a.d(n,{c:()=>o});var t=a(45458),i=a(55918),l=a(82567),o={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostPreview_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"username"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useIsVerifiedBookAuthor_user"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"CollectionAvatar_collection"}}]}}]}}].concat((0,t.A)(i.s.definitions),(0,t.A)(l.$.definitions))}},48592:(e,n,a)=>{a.d(n,{K:()=>o,O:()=>l});var t=a(55127),i=a.n(t),l=function(e){var n=e-Date.now(),a=Math.ceil(n/1e3/60/60);return a>24?"".concat(Math.ceil(a/24)," days"):a>=1?"".concat(a," ").concat(i()("hour",a)):void 0},o=function(e){return e/1e3/60/60/24}},24959:(e,n,a)=>{a.d(n,{YK:()=>t,eP:()=>i,g3:()=>l});var t={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useFeatureStoryInPub_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"publicationsFeaturingPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]},i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"useFeatureStoryInPub_publication"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publication"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetPostPublicationFeaturedMutation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"postId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pubId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"featured"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setPostPublicationFeatured"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"postId"},value:{kind:"Variable",name:{kind:"Name",value:"postId"}}},{kind:"ObjectField",name:{kind:"Name",value:"publicationId"},value:{kind:"Variable",name:{kind:"Name",value:"pubId"}}},{kind:"ObjectField",name:{kind:"Name",value:"featured"},value:{kind:"Variable",name:{kind:"Name",value:"featured"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MutationSuccess"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"}}]}}]}}]}}]}},70521:(e,n,a)=>{a.d(n,{Z:()=>c});var t=a(58168),i=a(80045),l=a(96540),o=a(20036),r=a(24809),d=["isResponsive"],c=function(e){var n=e.isResponsive,a=(0,i.A)(e,d);return l.createElement(o.u,(0,t.A)({text:n?"More":void 0,icon:l.createElement(r.A,null)},a))}},67459:(e,n,a)=>{a.d(n,{J:()=>u,g:()=>c});var t=a(96540),i=a(64122),l=a(56742),o=a(51260),r=a(39160),d=a(60213),c=function(){var e=(0,r.d4)((function(e){return e.config.authDomain})),n=(0,o.RW)(),a=n.type===l.S9.USER,c=(0,o.om)(),u=(0,d.u)(),s=(0,i.W)();return(0,t.useCallback)((function(n){var t,i=n.uniqueSlug||n.id;if(n.isSeries)return"https://".concat(e).concat(c("ShowSeries",{postId:i}));if(null!==(t=n.sequence)&&void 0!==t&&t.slug)return"https://".concat(e).concat(c("ShowSequencePost",{sequenceSlug:n.sequence.slug,postId:i}));if(n.collection&&!a){var l=u({id:n.collection.id,domain:n.collection.domain,slug:n.collection.slug});return"".concat(l,"/").concat(i)}if(n.creator){var o=s(n.creator);return"".concat(o,"/").concat(i)}return"https://".concat(e).concat(c("ShowPost",{postId:i}))}),[n,c,u,s])},u=function(e){return c()(e)}},5072:(e,n,a)=>{a.d(n,{E:()=>k});var t=a(58168),i=a(80045),l=a(96540),o=a(29977),r=a(22841),d=a(41299),c=a(86527),u=a(5600),s=a(64122),m=["user","children","testId","popoverDisplay","popoverPlacement"];function k(e){var n=e.user,a=e.children,k=e.testId,p=e.popoverDisplay,v=e.popoverPlacement,f=void 0===v?"top":v,b=(0,i.A)(e,m),S=(0,s.f)(n),y=(0,l.useCallback)((function(){return l.createElement(r.J,{user:n})}),[n]);return l.createElement(d.R,{placement:f,targetDistance:o.f,mouseEnterDelay:u.A,mouseLeaveDelay:100,noArrow:!0,popoverRenderFn:y,display:p},l.createElement(c.N,(0,t.A)({href:S,"data-testid":k},b),a))}},21277:(e,n,a)=>{a.d(n,{T:()=>c,x:()=>u});var t=a(96540),i=a(36469),l=a(88474),o=a(52290),r=a(36557),d=a(5072),c=function(e){var n=e.author,a=e.size;return(0,l.E)(n)?t.createElement(o.a,{marginLeft:"2px",marginTop:"2px"},t.createElement(i.b,{size:a})):null},u=function(e){var n=e.user,a=e.includeVerifiedAuthorBadge,i=e.clamp,l=e.popoverPlacement,o=e.scale,u=void 0===o?"S":o,s=e.badgeSize,m=void 0===s?"S":s,k=e.testId;return t.createElement(d.E,{user:n,popoverDisplay:"block",popoverPlacement:l,linkStyle:"SUBTLE",inline:!0,display:"flex",rules:{alignItems:"center"},testId:k},t.createElement(r.kZ,{scale:u,color:"DARKER",clamp:i},n.name),a&&t.createElement(c,{author:n,size:m}))}},34899:(e,n,a)=>{a.d(n,{I:()=>f});var t,i,l=a(80296),o=a(96540),r=a(52290),d=a(28993),c=a(41299),u=a(20239),s=a(44402),m=a(63191);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},k.apply(null,arguments)}const p=function(e){return o.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 16 16"},e),t||(t=o.createElement("g",{clipPath:"url(#clip0_12092_5259)"},o.createElement("path",{fill:"#242424",fillRule:"evenodd",d:"M14.5 8a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0m1 0a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0M8.699 5.2h-1.4V3.8h1.4zm0 .933h-1.4v6.533h1.4z",clipRule:"evenodd"}))),i||(i=o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_12092_5259"},o.createElement("path",{fill:"#fff",d:"M0 0h16v16H0z"})))))};var v=a(60603),f=function(e){var n,a=e.mouseLeaveDelay,t=void 0===a?250:a,i=e.placement,k=e.tooltipContents,f=e.customZIndex,b=e.iconColor,S=e.iconSize,y=void 0===S?"18px":S,g=(0,u.D)(),E=(0,s.l)(),N=(0,v.e)(!1),F=(0,l.A)(N,3),A=F[0],h=F[1],T=F[2];switch(y){case"16px":n=o.createElement(p,{className:E({"& g > path":{fill:b||g.colorTokens.foreground.neutral.secondary.base}})});break;case"18px":n=o.createElement(m.A,{width:"18px",height:"18px",className:E({"& > path":{fill:b||g.colorTokens.foreground.neutral.secondary.base}})})}return o.createElement(r.a,{display:"inline"},o.createElement(c.R,{mouseLeaveDelay:t,placement:i,popoverRenderFn:function(){return o.createElement(r.a,{maxWidth:"250px",padding:"18px"},k())},customZIndex:f,noArrow:!0,isVisible:A||void 0,hide:A?T:void 0},o.createElement(d.P,{onTouchStart:h},n)))}},94170:(e,n,a)=>{a.d(n,{a:()=>R});var t=a(80296),i=a(96540),l=a(96063),o=a(79766),r=a(52290),d=a(99731),c=a(3005),u=a(48198),s=a(85050),m=a(27049),k=a(56942),p=a(36557),v=a(98761),f=a(18642),b=a(46963),S={xs:"SMALL",sm:"REGULAR",md:"REGULAR",lg:"REGULAR",xl:"REGULAR"},y={position:"absolute",top:"8px",left:"0",width:"100%",minHeight:"calc(100% - 8px)",borderRadius:"12px 12px 0 0",padding:"0 24px 24px"},g=function(e){return{"0%":{transform:e?"translateY(100%)":"translateY(16px)"},"100%":{transform:e?"translateY(0%)":"translateY(0px)"}}},E=function(e){return{"0%":{transform:e?"translateY(0%)":"translateY(0px)"},"100%":{transform:e?"translateY(100%)":"translateY(16px)"}}},N={"0%":{opacity:"0"},"100%":{opacity:"1"}},F={"0%":{opacity:"1"},"100%":{opacity:"0"}},A={"0%":{transform:"scale(1)"},"50%":{transform:"scale(1.02)"},"75%":{transform:"scale(1.02)"},"100%":{transform:"scale(1)"}},h={"0%":{background:(0,f.qy)(0)},"100%":{background:(0,f.qy)(.25)}},T={"0%":{background:(0,f.qy)(.25)},"100%":{background:(0,f.qy)(0)}},x={padding:"24px 0"},R=function(e){var n=e.hide,a=e.title,R=e.subtitle,I=e.subtitleTextAlign,O=e.onConfirm,P=e.confirmText,w=e.confirmButtonStyle,_=void 0===w?"STRONG":w,C=e.onCancel,B=e.cancelText,D=e.cancelButtonStyle,L=void 0===D?"OBVIOUS":D,V=e.children,U=e.withCloseButton,M=void 0===U||U,G=e.hideOnConfirm,K=void 0===G||G,j=e.preventClickOutside,Y=e.confirmDisabled,Z=e.confirmBeforeLeavePage,z=e.delayHideEnabled,q=e.padding,H=void 0===q?"32px":q,W=e.subtitleMargin,$=void 0===W?"24px":W,Q=e.subtitleColor,J=void 0===Q?"DARKER":Q,X=(0,i.useRef)(null),ee=(0,i.useState)(!0),ne=(0,t.A)(ee,2),ae=ne[0],te=ne[1],ie=(0,i.useState)(!0),le=(0,t.A)(ie,2),oe=le[0],re=le[1],de=(0,b.U)()===m.i.xs,ce=(0,v.h)({modalBounceKeyframe:A,overlayFadeInKeyframe:h,overlayFadeOutKeyframe:T}),ue=ce.modalBounceKeyframe,se=ce.overlayFadeInKeyframe,me=ce.overlayFadeOutKeyframe,ke=(0,i.useCallback)((function(){re(!1)}),[]),pe=(0,i.useCallback)((function(e){X.current&&j&&!de&&(e.preventDefault(),e.stopPropagation(),X.current.style.animation="".concat(ue," 600ms ease-in-out"))}),[ue,j,de]);(0,l.A)(X,pe),(0,o.c)({disabled:!Z});var ve=(0,i.useCallback)((function(){null==O||O(),K&&ke()}),[ke,O,K]),fe=(0,i.useCallback)((function(){null==C||C(),ke()}),[ke,C]),be=(0,i.useMemo)((function(){return P||B?i.createElement(r.a,{display:"flex",justifyContent:"flex-end",gap:"16px"},B&&i.createElement(d.$n,{buttonStyle:L,onClick:fe,size:S},B),P&&i.createElement(d.$n,{buttonStyle:_,onClick:ve,size:S,disabled:Y},P)):null}),[O,P,_,C,B,L,ke,Y]);(0,i.useEffect)((function(){if(X.current)return X.current.addEventListener("animationend",e),function(){var n;null===(n=X.current)||void 0===n||n.removeEventListener("animationend",e)};function e(){X.current.style.animation=""}}),[]),(0,i.useEffect)((function(){if(!oe&&n){var e=setTimeout((function(){n()}),310);return function(){clearTimeout(e)}}}),[oe,n]),(0,i.useEffect)((function(){z&&re(!1)}),[z]);var Se,ye=(0,i.useCallback)((function(){return te(!1)}),[]),ge=function(e){var n=e.isAnimating,a=e.isVisible,t=e.isMobile,i=(0,v.h)({modalSlideInKeyframe:g(t),modalSlideOutKeyframe:E(t),modalFadeInKeyframe:N,modalFadeOutKeyframe:F,modalBounceKeyframe:A,overlayFadeInKeyframe:h,overlayFadeOutKeyframe:T}),l=i.modalSlideInKeyframe,o=i.modalSlideOutKeyframe,r=i.modalFadeInKeyframe,d=i.modalFadeOutKeyframe;if(a&&!n)return{animation:"none"};var c="".concat(a?l:o," ").concat(300,"ms forwards cubic-bezier(0.4, 0, 0.2, 1)");if(t)return{animation:c,position:"absolute",width:"100%",height:"calc(100% - 8px)"};var u="".concat(a?r:d," 150ms forwards ease-in-out");return{animation:"".concat(c,", ").concat(u)}}({isAnimating:ae,isVisible:oe,isMobile:de});return i.createElement(c.l,{isVisible:oe,hide:j?void 0:ke,withCloseButton:!1,withLayerAnimation:!1,withAnimation:!0,padding:0,customBackgroundColor:(0,f.qy)(.25),layerRules:[x,(Se=oe?se:me,function(){return{animation:"".concat(Se," 150ms forwards ease-in-out")}})],containerRules:ge,onAnimationEnd:ye},i.createElement(r.a,{ref:X,boxShadow:"rgba(0, 0, 0, 0.15) 0px 2px 10px",width:"540px",padding:H,borderRadius:"4px",backgroundColor:"BACKGROUND",position:"relative",xs:y},i.createElement(s.V,{xs:!0,height:"56px",marginBottom:"16px",paddingTop:"16px"},be),i.createElement(r.a,{textAlign:"center"},i.createElement(k.DZ,{scale:"S"},a)),R&&i.createElement(r.a,{marginTop:$,textAlign:I},i.createElement(p.kZ,{scale:"M",color:J},R)),V&&i.createElement(r.a,{marginTop:"32px"},V),be&&i.createElement(s.V,{sm:!0,md:!0,lg:!0,xl:!0,marginTop:"32px"},be),M&&i.createElement(r.a,{position:"absolute",right:{xs:void 0,sm:"16px",md:"16px",lg:"16px",xl:"16px"},top:{xs:"18px",sm:"16px",md:"16px",lg:"16px",xl:"16px"},left:{xs:"18px",sm:void 0,md:void 0,lg:void 0,xl:void 0}},i.createElement(u.J,{isPositionAbsolute:!1,compensateInnerPadding:!1,size:"REGULAR",onClick:ke}))))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/6428.7d30b23c.chunk.js.map